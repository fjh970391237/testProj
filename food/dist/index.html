<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="stylesheet" href="css/reset.min.css"><link rel="stylesheet" href="css/mui.min.css"><style>body,html{background-color:#efeff4}html{font-size:10px}@media only screen and (min-width:375px){html{font-size:11.75px!important}}@media only screen and (min-width:414px){html{font-size:13px!important}}@media only screen and (min-width:428px){html{font-size:13.38px!important}}@media only screen and (min-width:481px){html{font-size:15.1px!important}}@media only screen and (min-width:569px){html{font-size:17.8px!important}}@media only screen and (min-width:641px){html{font-size:20.1px!important}}.mui-page,.mui-page-content,.mui-pages,.mui-view,.mui-views{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;background-color:#efeff4}.mui-pages{top:42px;height:auto}.mui-pages .mui-page{display:block}.mui-scroll,.mui-scroll-wrapper{background-color:#efeff4}.mui-page.mui-transitioning{-webkit-transition:-webkit-transform .3s ease;transition:transform .3s ease}.mui-page-left{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.mui-ios .mui-page-left{-webkit-transform:translate3d(-20%,0,0);transform:translate3d(-20%,0,0)}.mui-navbar{position:fixed;right:0;left:0;z-index:10;height:44px;background-color:#f7f7f8}.mui-navbar .mui-bar{position:absolute;background:0 0;text-align:center}.mui-android .mui-navbar-inner.mui-navbar-left{opacity:0}.mui-ios .mui-navbar-left .mui-center,.mui-ios .mui-navbar-left .mui-left,.mui-ios .mui-navbar-left .mui-right{opacity:0}.mui-navbar .mui-btn-nav{-webkit-transition:none;transition:none;-webkit-transition-duration:0s;transition-duration:0s}.mui-navbar .mui-bar .mui-title{display:inline-block;width:auto}.mui-page-shadow{position:absolute;right:100%;top:0;width:16px;height:100%;z-index:-1;content:''}.mui-page-shadow{background:-webkit-linear-gradient(left,rgba(0,0,0,0) 0,rgba(0,0,0,0) 10%,rgba(0,0,0,.01) 50%,rgba(0,0,0,.2) 100%);background:linear-gradient(to right,rgba(0,0,0,0) 0,rgba(0,0,0,0) 10%,rgba(0,0,0,.01) 50%,rgba(0,0,0,.2) 100%)}.mui-navbar-inner .mui-transitioning,.mui-navbar-inner.mui-transitioning{-webkit-transition:opacity .3s ease,-webkit-transform .3s ease;transition:opacity .3s ease,transform .3s ease}.mui-fullscreen{position:fixed;z-index:20;background-color:#000}.mui-page{display:none}.mui-pages .mui-page{display:block}</style><style>.wrap{position:relative;height:100%}.imgBg{position:absolute;top:0;bottom:0;width:100%;height:100%;background-repeat:no-repeat;background-position:center;background-size:cover}.mui-btn-orange{background-color:#ff5722;color:#fff;border:none;margin-bottom:10px;font-size:18px;width:80%;padding:15px 0}#choose{position:absolute;bottom:30px;left:10%}#choose:after{content:"选择困难者的福音";position:absolute;bottom:-30px;left:0;width:100%;text-shadow:#2853cc 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0;-webkit-text-shadow:#2853cc 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0;-moz-text-shadow:#2853cc 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0}.mui-icon.mui-icon-checkmarkempty{font-size:28px}#addImg{position:fixed;right:15px;bottom:15px;width:4.8rem;height:4.8rem;background-color:#e91e63;line-height:4.8rem;text-align:center;border-radius:50%;color:#fff;font-size:2.8rem;z-index:99}.clothList li{float:left;width:47%;margin-left:2%;margin-bottom:10px;height:20rem;position:relative}.clothList li img{width:100%;height:100%}.clothList li p{line-height:4rem;font-size:1.8rem;position:absolute;bottom:0;left:0;width:100%;background:rgba(0,0,0,.2);margin:0;color:#fff;text-indent:10px}.resetLi:before{content:'';background:rgba(255,255,255,.6);width:100%;height:100%;position:absolute;top:0;left:0}.modal-mask{position:fixed;z-index:9998;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);display:table;transition:opacity .3s ease}.modal-wrapper{display:table-cell;vertical-align:middle}.modal-container{width:300px;margin:0 auto;padding:20px 10px;background-color:#fff;border-radius:2px;box-shadow:0 2px 8px rgba(0,0,0,.33);transition:all .3s ease;font-family:Helvetica,Arial,sans-serif;position:relative}.modal-enter,.modal-leave{opacity:0}.modal-enter .modal-container,.modal-leave .modal-container{-webkit-transform:scale(1.1);transform:scale(1.1)}.modal-header{margin-left:10px}.modal-body{margin:30px 0}.doned-input{width:90%;border:none;border-bottom:1px solid #989898}.cancel-btn,.doned-btn{position:absolute;bottom:5px;background-color:rgba(0,0,0,0);border:none}.doned-btn{right:10px;color:#2095f2}.cancel-btn{right:50px;color:#666}#clothList{overflow:auto;height:100%}#zoomCircle{width:80px;height:80px;background:#87ceeb;border-radius:50%;margin:80px auto;display:block;-webkit-animation:zoom alternate .8s infinite linear;-o-animation:zoom alternate .8s infinite linear;animation:zoom alternate .8s infinite linear}#loading p{text-align:center;font-size:16px}@keyframes zoom{from{transform:scale(.5);opacity:.6}to{transform:scale(1);opacity:1}}.resultArea{position:relative}.resultArea img{width:100%}.resultArea p{text-align:center;font-size:20px;background-color:rgba(255,255,255,.5);position:absolute;bottom:0;left:0;width:100%;line-height:30px;padding:10px;color:#333;margin:0}#chooseAgain{width:100%;height:50px;background:#87ceeb;font-size:18px;color:#fff;position:fixed;bottom:0}</style></head><body class="mui-fullscreen" id="clobody"><div id="app" class="mui-views"><div class="mui-view"><div class="mui-navbar"></div><div class="mui-pages"></div></div></div><div id="index" class="mui-page"><div class="mui-navbar-inner mui-bar mui-bar-nav"><h1 class="mui-center mui-title">小妞-今天穿什么？</h1></div><div class="mui-page-content"><div class="imgBg" id="imgBg"></div><a type="button" class="mui-btn mui-btn-orange" href="#index2" id="choose">马上选择穿什么</a></div></div><div id="index2" class="mui-page"><div class="mui-navbar-inner mui-bar mui-bar-nav"><button type="button" class="mui-left mui-action-back mui-btn mui-btn-link mui-btn-nav mui-pull-left" id="goBack"><span class="mui-icon mui-icon-left-nav sap-span"></span></button> <button type="button" class="mui-left mui-btn mui-btn-link mui-btn-nav mui-pull-right" @click="gorandomChoose"><span class="mui-icon mui-icon-checkmarkempty mui-icon-left-nav sap-span"></span></button><h1 class="mui-center mui-title">今天穿什么？</h1></div><div class="mui-page-content"><span v-on:click="addCloth" class="addImg" id="addImg">+</span><ul class="clothList" id="clothList"><li v-show="clothItems.length > 0" v-for="x in clothItems" @click="delCloth($index)"><img :src="x.imgsrc"><p v-text="x.name"></p></li><li class="resetLi" v-on:click="addCloth" v-show="!clothItems.length"><img src="images/test11.jpg"><p>添加你的选择</p></li></ul><div v-if="showAddModal" class="modal-mask" v-transition="modal"><div class="modal-wrapper"><div v-if="!showDelModal" class="modal-container"><div class="modal-header">添加</div><div class="modal-body"><input class="doned-input" v-model="itemname"> <button class="doned-btn" v-on:click="add">确认</button></div></div></div></div><div v-if="showDeleteModal" class="modal-mask" v-transition="modal"><div class="modal-wrapper"><div v-if="!showDelModal" class="modal-container"><div class="modal-header">要删除这个么？？</div><div class="modal-body"><button class="cancel-btn" @click="cancel">取消</button> <button class="doned-btn" v-on:click="delete">删除</button></div></div></div></div></div></div><div id="index3" class="mui-page"><div class="mui-navbar-inner mui-bar mui-bar-nav"><button type="button" class="mui-left mui-action-back mui-btn mui-btn-link mui-btn-nav mui-pull-left" id="goBack"><span class="mui-icon mui-icon-left-nav sap-span"></span></button><h1 class="mui-center mui-title">随机选择穿什么——Go</h1></div><div class="mui-page-content" id="clobody"><div id="loading" v-show="!showResult"><span id="zoomCircle"></span><p>给我一点时间......</p></div><div id="showResult" v-show="showResult"><div class="resultArea"><img :src="result.srcImg" alt=""><p v-text="result.nameImg"></p></div><button id="chooseAgain" @click="getResult">不对不对，再选一次</button></div></div></div><script src="js/vue.min.js"></script><script src="js/mui.min.js"></script><script src="js/mui.view.min.js"></script><script>function randomChoose(){}mui.init();var viewApi=mui("#app").view({defaultPage:"#index"}),view=viewApi.view;!function(e){function t(e){var t="images/test0"+parseInt(10*Math.random())+".jpg";return e.style.backgroundImage="url("+t+")",t}var i=e.back;e.back=function(){viewApi.canBack()?viewApi.back():i()},view.addEventListener("pageBeforeShow",function(e){"index"==e.detail.page.id&&t(s)}),view.addEventListener("pageShow",function(e){}),view.addEventListener("pageBeforeBack",function(e){}),view.addEventListener("pageBack",function(e){});var s=document.getElementById("imgBg"),n=document.getElementById("goBack"),a=document.getElementById("index2");document.getElementById("clothList");t(s),n.onClick=function(){console.log(111)},"block"==a.style.display&&console.log(222)}(mui);var data=JSON.parse(localStorage.getItem("lists"))||[],vm=new Vue({el:"#clobody",data:{showAddModal:!1,showDeleteModal:!1,itemname:"",clothItems:data,indexNum:"",result:{srcImg:"",nameImg:""},showResult:!1},components:{childLi:""},methods:{addCloth:function(){this.showAddModal=!0},add:function(){if(""==this.itemname)return mui.toast("未填写名称"),!1;this.showAddModal=!1;var e=["images/test01.jpg","images/test02.jpg","images/test03.jpg","images/test04.jpg","images/test05.jpg","images/test06.jpg","images/test07.jpg","images/test08.jpg","images/test09.jpg","images/test10.jpg","images/test11.jpg","images/test12.jpg"],t=Math.round(Math.random()*(e.length-1));""!=this.itemname&&(this.clothItems.push({name:this.itemname,imgsrc:e[t]}),this.itemname="",this.listState=!0,localStorage.setItem("lists",JSON.stringify(JSON.parse(JSON.stringify(this.clothItems)))))},delCloth:function(e){this.showDeleteModal=!0,this.indexNum=e},delete:function(){this.showDeleteModal=!1,this.clothItems.splice(this.indexNum,1)},cancel:function(){this.showDeleteModal=!1},gorandomChoose:function(){viewApi.go("#index3"),this.getResult()},getResult:function(){this.showResult=!1;var e=Math.round(Math.random()*(this.clothItems.length-1));setTimeout(function(){vm.result.srcImg=vm.clothItems[e].imgsrc,vm.result.nameImg=vm.clothItems[e].name,vm.showResult=!0},1500)}}})</script></body></html>